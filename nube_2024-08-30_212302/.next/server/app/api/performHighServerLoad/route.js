"use strict";(()=>{var e={};e.id=295,e.ids=[295],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},24067:(e,o,r)=>{r.r(o),r.d(o,{headerHooks:()=>p,originalPathname:()=>g,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var t={};r.r(t),r.d(t,{GET:()=>GET}),r(78976);var s=r(10884),i=r(16132);let n=require("child_process"),a=process.env.STRESS_PATH||"/usr/bin/stress";async function GET(e){let{searchParams:o}=new URL(e.url),r=Number(o.get("duration"));console.log(e.url,r);let t=await function(e=10){let o=["--cpu","8","--io","4","--vm","2","--vm-bytes","128M","--timeout",`${e}s`];return new Promise((e,r)=>{let t=(0,n.spawn)(a,o);console.log(`⚠️⚠️⚠️⚠️⚠️⚠️   Starting stress   ⚠️⚠️⚠️⚠️⚠️⚠️`);let s=setTimeout(()=>{console.error(">> too many time, killing the process child"),t.stdin.end(),t.kill()},3e5);t.stdout.on("data",e=>{console.log(`>> stdout: ${e}`)}),t.stderr.on("data",e=>{console.log(`>> stderr: ${e}`)}),t.on("error",e=>{console.error(`>> stderr: ${e}`),r(e)}),t.on("close",o=>{clearTimeout(s),console.log(`>> ✅   Done   ✅`),console.log(`>> child process exited with code ${o}`),0===o?e(!0):e(!1)})})}(r);return Response.json({x:t})}let l=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/performHighServerLoad/route",pathname:"/api/performHighServerLoad",filename:"route",bundlePath:"app/api/performHighServerLoad/route"},resolvedPagePath:"/home/santiago/servicios-nube-proyecto-2024/src/app/api/performHighServerLoad/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:p,staticGenerationBailout:m}=l,g="/api/performHighServerLoad/route"}};var o=require("../../../webpack-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),r=o.X(0,[364],()=>__webpack_exec__(24067));module.exports=r})();